import { SajuResult, HeavenlyStem, EarthlyBranch, FiveElement, STEM_ELEMENTS, BRANCH_ELEMENTS } from "./saju";

// 일간(Day Master) 기반 성격 및 기본 운세 템플릿
// 톤앤매너: 30년 경력 역술인이 중학생에게 설명하듯, 친근하고 비유적인 표현 사용
const DAY_MASTER_TEMPLATES: Record<HeavenlyStem, {
  name: string;
  element: string;
  personality: string;
  strength: string;
  weakness: string;
  advice: string;
}> = {
  '甲': {
    name: '갑목(甲木)',
    element: '양목(陽木)',
    personality: '갑목 일간이신 분은 숲에서 가장 먼저 하늘을 향해 쭉쭉 뻗어 올라가는 커다란 소나무 같은 분이에요. "내가 한번 해볼게!"라는 말이 입에 붙어 있을 만큼 추진력이 대단하고, 한번 마음먹은 일은 끝까지 밀고 나가는 뚝심이 있답니다. 주변 사람들이 자연스럽게 믿고 따르는 타고난 리더이기도 해요.',
    strength: '강력한 리더십, 뛰어난 추진력, 흔들리지 않는 책임감, 새로운 도전을 즐기는 용기',
    weakness: '가끔 "내 방식이 맞아!"라고 고집을 부릴 때가 있어요. 너무 곧은 나무는 바람에 부러질 수 있듯이, 다른 사람의 의견에도 귀 기울이는 유연함이 필요해요.',
    advice: '대나무처럼 유연하되 꺾이지 않는 자세를 가져보세요. 때로는 한 발 물러서는 것이 더 큰 전진이 될 수 있답니다.'
  },
  '乙': {
    name: '을목(乙木)',
    element: '음목(陰木)',
    personality: '을목 일간이신 분은 콘크리트 틈새를 뚫고 자라나는 작은 풀처럼, 어떤 환경에서도 적응하고 살아남는 놀라운 생명력을 가진 분이에요. 겉으로는 부드럽고 유순해 보이지만, 속에는 "절대 포기하지 않겠어"라는 강인한 의지가 숨어 있답니다. 예술적 감각도 뛰어나서 주변을 아름답게 가꾸는 재능이 있어요.',
    strength: '뛰어난 적응력, 외유내강의 끈기, 풍부한 예술적 감각, 사람들과 잘 어울리는 사교성',
    weakness: '이것도 좋고 저것도 좋아서 결정을 내리기 어려울 때가 있어요. 중요한 순간에는 "이거야!"라고 단호하게 선택하는 연습이 필요해요.',
    advice: '유연함은 최고의 장점이에요. 하지만 때로는 자신만의 뿌리를 단단히 내리고, 소신 있게 자기 길을 걸어가는 것도 중요하답니다.'
  },
  '丙': {
    name: '병화(丙火)',
    element: '양화(陽火)',
    personality: '병화 일간이신 분은 세상을 환하게 비추는 태양 같은 존재예요! 어디에 가든 분위기를 밝게 만드는 에너지가 있고, 사람들의 시선을 자연스럽게 끌어당기는 매력이 있답니다. "한번 해보자!"라는 열정이 넘치고, 불의를 보면 참지 못하는 정의로운 마음도 가지고 있어요.',
    strength: '밝고 긍정적인 에너지, 타고난 카리스마, 두려움 없는 도전 정신, 따뜻한 마음씨',
    weakness: '태양이 너무 뜨거우면 가뭄이 오듯이, 지나친 열정이 오히려 주변을 지치게 할 수 있어요. 시작은 화려하지만 끝맺음이 약해질 수 있으니 마무리까지 신경 써주세요.',
    advice: '태양도 구름 뒤에 숨을 때가 있어요. 때로는 한 발 물러서서 상황을 지켜보는 여유가 더 큰 성과를 가져다줄 수 있답니다.'
  },
  '丁': {
    name: '정화(丁火)',
    element: '음화(陰火)',
    personality: '정화 일간이신 분은 어둠 속에서 길을 밝혀주는 따뜻한 촛불 같은 분이에요. 태양처럼 화려하지는 않지만, 곁에 있으면 마음이 편안해지는 은은한 매력이 있답니다. 직관력이 매우 뛰어나서 사람의 속마음을 귀신같이 알아채는 능력이 있고, 한번 집중하면 놀라운 성과를 내는 집중력의 소유자예요.',
    strength: '뛰어난 직관력과 통찰력, 섬세한 감성, 놀라운 집중력, 깊은 공감 능력',
    weakness: '촛불이 바람에 흔들리듯 감정의 기복이 있을 수 있어요. 걱정이 많아서 결정을 내리는 데 시간이 걸리기도 해요.',
    advice: '작은 촛불도 어둠을 밝힐 수 있어요. 자신의 빛을 감추지 말고, 자신감을 가지고 세상에 당당히 나서보세요!'
  },
  '戊': {
    name: '무토(戊土)',
    element: '양토(陽土)',
    personality: '무토 일간이신 분은 어떤 폭풍이 와도 끄떡없는 거대한 산 같은 분이에요. 듬직하고 안정적인 성품 덕분에 주변 사람들이 어려울 때 가장 먼저 찾는 든든한 존재랍니다. 산이 만물을 품듯이, 넓은 포용력으로 다양한 사람들과 잘 어울리는 매력이 있어요.',
    strength: '흔들리지 않는 안정감, 두터운 신뢰감, 넓은 포용력, 끝까지 해내는 끈기',
    weakness: '산이 움직이지 않듯이, 변화를 싫어하고 새로운 시도에 소극적일 수 있어요. "원래 이렇게 하던 건데..."라는 말을 자주 할 수 있답니다.',
    advice: '산도 계절에 따라 옷을 갈아입잖아요? 변화를 두려워하지 말고, 새로운 가능성에 마음을 열어보세요!'
  },
  '己': {
    name: '기토(己土)',
    element: '음토(陰土)',
    personality: '기토 일간이신 분은 씨앗을 품어 열매를 맺게 하는 비옥한 논밭 같은 분이에요. 겉으로는 평범해 보이지만, 다른 사람의 재능을 발견하고 키워주는 놀라운 능력이 있답니다. 겸손하고 따뜻한 마음씨로 주변 사람들을 돌보는 데 기쁨을 느끼며, 꼼꼼하고 실용적인 판단력도 갖추고 있어요.',
    strength: '깊은 배려심, 사람을 키우는 능력, 실용적이고 현실적인 판단력, 꼼꼼한 성격',
    weakness: '남을 위해 너무 희생하다 보면 정작 자신을 돌보지 못할 때가 있어요. "나는 괜찮아"라고 말하면서 속으로는 힘들어할 수 있답니다.',
    advice: '비옥한 땅도 쉬어야 다시 풍성한 열매를 맺을 수 있어요. 남을 돌보는 만큼 자기 자신도 소중히 여겨주세요!'
  },
  '庚': {
    name: '경금(庚金)',
    element: '양금(陽金)',
    personality: '경금 일간이신 분은 날카로운 명검(名劍)처럼 강하고 결단력 있는 분이에요. "이건 아니야!"라고 생각하면 물불을 가리지 않는 정의감이 있고, 복잡한 문제도 칼로 자르듯 명쾌하게 해결하는 판단력이 탁월하답니다. 의리가 있고 약속을 중시하며, 한번 맺은 인연은 끝까지 지키려는 강한 신념이 있어요.',
    strength: '강한 결단력과 실행력, 뜨거운 정의감, 명쾌한 판단력, 깊은 의리',
    weakness: '너무 날카로우면 주변 사람들이 다칠 수 있듯이, 직설적인 표현이 상대방에게 상처를 줄 때가 있어요. 융통성이 부족할 수도 있답니다.',
    advice: '좋은 칼은 날카롭지만 잘 다듬어져 있어요. 강함 속에 부드러움을 품으면, 진정한 리더로서 더 큰 힘을 발휘할 수 있답니다.'
  },
  '辛': {
    name: '신금(辛金)',
    element: '음금(陰金)',
    personality: '신금 일간이신 분은 정교하게 세공된 보석처럼 섬세하고 아름다운 감각을 가진 분이에요. 미적 안목이 뛰어나고, 작은 디테일도 놓치지 않는 관찰력이 있답니다. 보석이 적절한 빛을 받으면 눈부시게 빛나듯, 좋은 환경에서 놀라운 능력을 발휘하는 잠재력의 소유자예요.',
    strength: '뛰어난 미적 감각, 섬세한 관찰력, 완벽을 추구하는 장인 정신, 세련된 매력',
    weakness: '보석이 충격에 약하듯, 마음의 상처를 잘 받을 수 있어요. 다른 사람의 평가에 지나치게 신경 쓰거나, 기대치가 너무 높아 스스로를 힘들게 할 때가 있답니다.',
    advice: '보석은 원래 빛나는 거예요. 완벽하지 않아도 괜찮다는 것을 받아들이고, 자신의 가치를 스스로 인정해주세요!'
  },
  '壬': {
    name: '임수(壬水)',
    element: '양수(陽水)',
    personality: '임수 일간이신 분은 모든 강물을 받아들이는 넓고 깊은 바다 같은 분이에요. 어떤 상황에서도 유연하게 대처하는 적응력이 뛰어나고, 사물의 본질을 꿰뚫어 보는 깊은 통찰력이 있답니다. 지적 호기심이 강해서 다양한 분야의 지식을 흡수하고 융합하는 재능도 가지고 있어요.',
    strength: '넓은 시야와 깊은 통찰력, 뛰어난 적응력, 풍부한 지적 호기심, 큰 포용력',
    weakness: '물이 방향을 잃으면 범람하듯이, 이것저것 관심이 많아 에너지가 분산될 수 있어요. 한 가지에 집중하기 어려울 때가 있답니다.',
    advice: '넓은 바다도 해류가 있듯이, 인생에도 분명한 방향이 필요해요. 목표를 정하고 꾸준히 한 방향으로 흘러가 보세요!'
  },
  '癸': {
    name: '계수(癸水)',
    element: '음수(陰水)',
    personality: '계수 일간이신 분은 맑은 샘물이나 아침 이슬처럼 순수하고 깨끗한 마음을 가진 분이에요. 조용하지만 깊은 내면의 세계를 가지고 있으며, 직관력이 매우 뛰어나서 남들이 보지 못하는 것을 감지하는 능력이 있답니다. 물방울이 바위를 뚫듯이, 묵묵히 꾸준하게 나아가는 인내심도 대단해요.',
    strength: '뛰어난 직관력과 영감, 깊은 인내심과 끈기, 순수하고 맑은 성품, 잔잔한 위로를 주는 따뜻함',
    weakness: '내성적이고 소극적일 수 있어요. 걱정과 불안이 많아서 자신감이 부족할 때가 있고, 현실보다 이상에 치우칠 수 있답니다.',
    advice: '작은 물방울도 모이면 큰 강이 되잖아요. 자신의 작은 노력들이 결국 큰 결실을 맺는다는 것을 믿고, 자신감을 가져보세요!'
  }
};

// 오행별 운세 키워드
const ELEMENT_FORTUNE_KEYWORDS: Record<FiveElement, {
  career: string[];
  wealth: string[];
  relationship: string[];
  health: string[];
}> = {
  '木': {
    career: ['성장', '발전', '새로운 시작', '창의적 도전', '교육', '문화 예술'],
    wealth: ['점진적 증가', '투자 성장', '부동산 운', '장기적 수익'],
    relationship: ['새로운 만남', '인연의 확장', '협력 관계', '멘토와의 연결'],
    health: ['간 건강', '눈 건강', '스트레스 관리', '유연성 운동']
  },
  '火': {
    career: ['명예', '승진', '대중적 인기', '리더십 발휘', '마케팅', '엔터테인먼트'],
    wealth: ['급격한 변동', '투기적 수익', '명예로 인한 부', '브랜드 가치'],
    relationship: ['열정적 만남', '사교 활동', '인맥 확대', '주목받는 관계'],
    health: ['심장 건강', '혈압 관리', '열 조절', '충분한 휴식']
  },
  '土': {
    career: ['안정', '신뢰 구축', '부동산', '농업', '건설', '중재 역할'],
    wealth: ['안정적 수입', '부동산 투자', '저축', '실물 자산'],
    relationship: ['신뢰 관계', '가족 중심', '오래된 인연', '중매'],
    health: ['소화기 건강', '비장 관리', '균형 잡힌 식단', '규칙적 생활']
  },
  '金': {
    career: ['결단', '개혁', '금융', '법률', '의료', '기술 분야'],
    wealth: ['금융 투자', '귀금속', '정밀한 재테크', '수익 실현'],
    relationship: ['의리 있는 관계', '비즈니스 파트너', '명확한 경계', '신의'],
    health: ['폐 건강', '피부 관리', '호흡기', '면역력 강화']
  },
  '水': {
    career: ['지혜', '연구', '유통', '무역', 'IT', '컨설팅'],
    wealth: ['유동적 자산', '해외 투자', '정보를 통한 수익', '다각화'],
    relationship: ['깊은 교류', '지적 교감', '해외 인연', '네트워킹'],
    health: ['신장 건강', '수분 섭취', '냉기 조심', '순환 개선']
  }
};

// 초년운 템플릿 (1세~27세) — 친근한 톤앤매너
const EARLY_LIFE_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '어린 시절의 당신은 봄날의 새싹처럼 호기심이 가득했어요. 새로운 것을 보면 "이건 뭐야? 저건 뭐야?" 하며 끊임없이 탐구하는 아이였을 거예요. 학창 시절에는 특히 창의적인 분야에서 "어, 이 친구 뭔가 다른데?"라는 평가를 받았을 가능성이 높답니다.',
    '성장기에 목(木)의 기운이 강하게 작용해서, 마치 나무가 하늘을 향해 쭉쭉 뻗어가듯 "더 높이, 더 멀리"를 향한 성장 욕구가 강했어요. 부모님이나 좋은 스승의 영향을 크게 받았고, 이 시기에 마음속에 심어진 가치관이 평생의 나침반이 되어줄 거예요.',
    '청년기에 접어들면서 꿈과 이상은 더욱 커졌지만, 현실과의 괴리에 좌절을 겪기도 했을 거예요. 하지만 걱정 마세요! 나무가 비바람을 맞으며 더 단단해지듯, 이 시기의 도전과 실패는 모두 당신을 더 강하게 만드는 소중한 밑거름이 되었답니다.'
  ],
  '火': [
    '어린 시절의 당신은 반에서 가장 밝고 활발한 아이였을 거예요. 어디서든 분위기를 이끄는 "분위기 메이커" 역할을 했고, 선생님이 "누가 발표할래?" 하면 가장 먼저 손을 드는 용감한 아이였답니다.',
    '학창 시절에는 화(火)의 기운이 당신을 빛나게 해줬어요. 무대에 서거나 경쟁하는 상황에서 오히려 더 빛나는 타입이었고, 친구들 사이에서도 인기가 많았을 거예요. 가끔 성급해서 실수도 했지만, 그것마저도 매력으로 만드는 능력이 있었답니다.',
    '청년기에 당신의 열정은 더욱 활활 타올랐어요. 큰 꿈을 품고 과감하게 도전했고, 때로는 주변에서 "너 좀 무모한 거 아니야?"라는 걱정을 들었을 수도 있어요. 하지만 이 시기의 뜨거운 경험들이 당신을 더 성숙하고 지혜로운 사람으로 만들어주었답니다.'
  ],
  '土': [
    '어린 시절의 당신은 차분하고 듬직한 아이였어요. 급하게 서두르기보다 "천천히, 하지만 확실하게"를 모토로 살았고, 이런 성향 덕분에 학업에서도 꾸준한 성과를 냈답니다. 부모님의 사랑 속에서 안정적인 유년기를 보냈어요.',
    '성장기에 토(土)의 기운은 당신에게 든든한 기반을 마련해줬어요. 친구들 사이에서 "얘한테 물어보면 돼"라고 신뢰받는 존재였고, 싸우는 친구들 사이에서 중재자 역할을 자주 맡았을 거예요. 이 시기에 맺은 인간관계는 평생의 소중한 자산이 된답니다.',
    '청년기에 당신은 현실적인 목표를 세우고 착실하게 준비했어요. 화려하지는 않았지만 한 걸음 한 걸음 단단한 기초를 다졌고, 이 시기의 성실한 노력이 이후 인생의 안정적인 토대가 되어줄 거예요.'
  ],
  '金': [
    '어린 시절의 당신은 또래보다 총명하고 예리한 아이였어요. "이건 왜 이래?" "이건 불공평해!"라며 옳고 그름에 대한 판단이 명확했고, 학업에서는 특히 논리적인 과목에서 뛰어난 성적을 거뒀답니다.',
    '성장기에 금(金)의 기운은 당신을 더욱 날카롭게 벼려줬어요. 목표를 향해 직진하는 추진력이 생겼고, 경쟁에서 물러서지 않는 강인함을 키웠답니다. 때로는 그 날카로움이 친구들과의 마찰을 일으키기도 했지만, 그 과정에서 대인관계의 지혜를 배웠어요.',
    '청년기에 당신은 자신만의 길을 개척하기 시작했어요. "이건 내가 결정할 거야"라는 결단력으로 선택하고 책임지는 법을 배웠고, 이 시기의 경험이 당신을 더 단단하고 성숙한 어른으로 만들어주었답니다.'
  ],
  '水': [
    '어린 시절의 당신은 조용하지만 깊은 내면을 가진 아이였어요. 상상력이 풍부해서 책이나 이야기 속 세계에 푹 빠져드는 것을 좋아했고, 직관력이 뛰어나 "엄마, 오늘 뭔가 좋은 일 있을 것 같아"라며 주변을 놀라게 하기도 했답니다.',
    '성장기에 수(水)의 기운은 당신에게 지혜와 통찰력이라는 선물을 줬어요. 학문에 대한 깊은 관심이 생겼고, 특히 철학적이거나 신비로운 주제에 끌렸을 거예요. 많은 친구보다는 소수의 깊은 친구 관계를 선호하는 편이었답니다.',
    '청년기에 당신은 자신만의 독특한 세계를 구축하기 시작했어요. 남들과 다른 시각으로 세상을 바라보았고, 이런 독특함이 때로는 외로움을 주기도 했지만, 결국 그것이 당신만의 특별한 강점이 되었답니다.'
  ]
};

// 중년운 템플릿 (28세~57세) — 친근한 톤앤매너
const MID_LIFE_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '중년에 접어들면서 당신의 목(木) 기운은 무성한 가지를 뻗어 드디어 열매를 맺기 시작해요. 이 시기는 그동안 묵묵히 쌓아온 경험과 실력이 "드디어 빛을 발하는 때"랍니다. 사회적으로 인정받고, 당신의 영향력이 점점 넓어지는 것을 느끼게 될 거예요.',
    '가정에서는 든든한 기둥 역할을 하게 돼요. 자녀의 성장을 지원하고 가족을 이끄는 과정에서 보람을 느끼며, 이 과정에서 당신 또한 함께 성장한답니다. 가족과의 유대가 당신에게 가장 큰 힘이 되어줄 거예요.',
    '직업적으로는 새로운 도전과 확장의 기회가 찾아와요. 두려워하지 말고 과감하게 기회를 잡으세요! 이 시기에 뿌린 씨앗이 말년에 풍성한 수확으로 돌아올 거랍니다.'
  ],
  '火': [
    '중년에 화(火)의 기운이 정점에 달하면서, 당신은 인생의 황금기를 맞이해요! 사회적 명예와 지위가 상승하고, 많은 사람들이 당신을 주목하게 됩니다. 리더십을 발휘할 기회가 많아지고, 영향력도 점점 커져요.',
    '이 시기에는 열정을 조절하는 지혜가 필요해요. 너무 급하게 달리다 보면 지칠 수 있으니까요. "잠깐, 쉬어가자"라고 자신에게 말해주는 것도 용기랍니다. 건강 관리에도 꼭 신경 써주세요.',
    '가정에서는 따뜻한 온기를 나누는 역할을 해요. 가족들에게 희망과 용기를 주는 존재가 되며, 이런 역할이 당신에게도 큰 보람과 행복을 가져다줄 거예요.'
  ],
  '土': [
    '중년에 토(土)의 기운은 당신에게 안정과 풍요를 가져다줘요. 그동안 착실하게 쌓아온 것들이 하나둘 결실을 맺으며, 경제적으로도 안정기에 접어들게 됩니다. 특히 부동산이나 실물 자산에서 좋은 결과를 얻을 수 있어요.',
    '사회적으로는 "이 사람이면 믿을 수 있어"라는 신뢰를 바탕으로 중재자 역할을 하게 돼요. 갈등을 조정하고 조화를 이끌어내는 능력이 빛을 발하며, 많은 사람들의 존경을 받게 된답니다.',
    '가정은 당신에게 가장 소중한 안식처예요. 가족과의 시간을 소중히 여기고, 함께하는 순간들을 즐겨보세요. 이 시기에 쌓은 가족과의 유대가 말년의 행복을 결정한답니다.'
  ],
  '金': [
    '중년에 금(金)의 기운은 당신을 더욱 단련시켜요. 이 시기는 결단과 선택의 연속이며, 당신의 판단력과 실행력이 시험받는 때이기도 해요. 하지만 걱정 마세요! 어려운 결정도 과감하게 내리고 책임지는 모습이 주변의 깊은 신뢰를 얻게 해줄 거예요.',
    '직업적으로는 오랜 경험과 전문성이 빛을 발해요. 해당 분야에서 "이 사람이 최고야"라는 인정을 받으며, 후배들을 이끄는 멘토 역할도 하게 된답니다.',
    '이 시기에는 날카로움을 부드러움으로 감싸는 지혜가 필요해요. 강함만으로는 얻을 수 없는 것들이 있다는 것을 깨닫고, 유연성을 기르면 더 큰 성공이 찾아올 거예요.'
  ],
  '水': [
    '중년에 수(水)의 기운은 당신에게 깊은 지혜와 통찰력이라는 선물을 줘요. 인생의 본질을 꿰뚫어 보는 안목이 생기며, 이를 바탕으로 현명한 선택을 할 수 있게 돼요. "이 사람한테 물어보면 답이 나와"라며 조언을 구하는 사람들이 점점 늘어날 거예요.',
    '직업적으로는 전문 지식이나 정보를 다루는 분야에서 큰 성과를 거둬요. 연구, 분석, 컨설팅 등의 영역에서 두각을 나타내며, 국제적인 활동 기회도 생길 수 있답니다.',
    '내면의 성장에도 관심을 가지는 시기예요. 명상이나 철학적 탐구를 통해 삶의 의미를 깊이 생각하게 되며, 이런 내적 성숙이 외적 성공의 든든한 기반이 되어줄 거예요.'
  ]
};

// 말년운 템플릿 (58세 이후) — 친근한 톤앤매너
const LATE_LIFE_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '말년에 목(木)의 기운은 당신에게 지속적인 성장과 활력을 선사해요. 나이가 들어도 새로운 것을 배우고 도전하는 것을 멈추지 않는 당신! 이런 자세가 당신을 늘 젊게 유지해줄 거예요. 후손들에게 삶의 지혜를 전하는 소중한 역할도 하게 된답니다.',
    '건강 면에서는 규칙적인 운동과 자연 속에서의 시간이 큰 도움이 돼요. 산책이나 정원 가꾸기 같은 활동이 몸과 마음 모두에 활력을 불어넣어줄 거예요.',
    '가족과의 관계가 더욱 돈독해지며, 특히 손주들과의 교류에서 큰 기쁨을 느끼게 돼요. 당신이 심은 나무가 후손들에게 시원한 그늘을 드리우듯, 당신의 삶 자체가 가족에게 축복이 된답니다.'
  ],
  '火': [
    '말년에도 화(火)의 기운은 당신 안에서 따뜻하게 타오르고 있어요. 젊은 시절의 뜨거운 열정은 지혜로운 온기로 변해서, 주변 사람들에게 희망과 용기를 전하는 역할을 하게 된답니다. 사회 활동이나 봉사에서 큰 보람을 느끼게 될 거예요.',
    '건강 관리가 특히 중요한 시기예요. 심장과 혈압에 신경 쓰고, 과도한 스트레스는 피해주세요. 적절한 휴식과 긍정적인 마음가짐이 건강의 비결이랍니다.',
    '가족들에게 당신은 여전히 빛나는 존재예요. 가족 모임의 중심이 되어 따뜻한 분위기를 만들며, 당신의 이야기와 경험이 후손들에게 전해지는 귀한 유산이 된답니다.'
  ],
  '土': [
    '말년에 토(土)의 기운은 당신에게 깊은 안정과 평화를 가져다줘요. 그동안 쌓아온 것들을 정리하고, 진정으로 소중한 것에 집중하는 시기랍니다. 물질적 풍요보다 마음의 평안이 더 큰 가치를 갖는다는 것을 깨닫게 될 거예요.',
    '건강 면에서는 소화기 관리와 균형 잡힌 식단이 중요해요. 규칙적인 생활 습관을 유지하고, 무리하지 않는 것이 건강의 비결이랍니다.',
    '가족은 당신의 가장 큰 재산이에요. 자녀와 손주들에게 둘러싸여 행복한 노년을 보내며, 당신이 일군 가정이 대대로 번영하는 것을 지켜보게 될 거예요.'
  ],
  '金': [
    '말년에 금(金)의 기운은 당신에게 맑고 깨끗한 지혜를 선물해줘요. 인생의 본질을 꿰뚫어 보는 통찰력이 생기며, 불필요한 것들을 정리하고 핵심에 집중하게 돼요. 간결하지만 깊이 있는 삶, 그것이 당신의 말년 키워드랍니다.',
    '건강 면에서는 호흡기와 피부 관리에 신경 써주세요. 맑은 공기와 적절한 수분 섭취가 도움이 되고, 명상이나 호흡 운동도 좋아요.',
    '후손들에게 당신은 존경받는 어른이에요. 당신의 원칙과 지혜가 가문의 전통이 되어 대대로 전해지며, 이것이 당신이 남기는 가장 값진 유산이 된답니다.'
  ],
  '水': [
    '말년에 수(水)의 기운은 당신에게 깊은 평화와 지혜를 가져다줘요. 인생의 흐름을 자연스럽게 받아들이며, 집착 없이 흘러가는 물처럼 편안한 마음을 유지하게 된답니다. 영적인 성장에도 관심을 갖게 되는 시기예요.',
    '건강 면에서는 신장과 방광 건강에 주의하고, 충분한 수분 섭취와 보온에 신경 써주세요. 가벼운 수영이나 온천욕이 몸과 마음 모두에 좋답니다.',
    '당신의 지혜는 가족과 주변 사람들에게 귀한 보물이에요. 조용히 곁에서 건네는 당신의 조언 한마디가 큰 힘이 되며, 당신의 존재 자체가 가족에게 큰 위안이 된답니다.'
  ]
};

// 재물운 템플릿 — 친근한 톤앤매너
const WEALTH_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '목(木)의 기운이 재물운에 작용하고 있어서, 당신의 재물은 나무가 자라듯 점진적으로 성장하는 타입이에요. 한방에 대박! 보다는 꾸준히 쌓여가는 스타일이랍니다. 장기 투자에서 특히 좋은 결과를 얻을 수 있어요.',
    '교육, 출판, 문화 예술 관련 분야에서 재물 운이 좋아요. 당신의 지식이나 창의성을 활용한 수입원이 유리하고, 부동산 중에서도 녹지나 자연환경과 관련된 투자가 길하답니다.',
    '재물을 다룰 때는 "씨앗을 뿌리고 인내심 있게 기다리기"가 핵심이에요. 봄에 심은 씨앗이 가을에 열매를 맺듯, 조급해하지 말고 장기적인 관점에서 접근하면 풍성한 수확을 거둘 수 있답니다.'
  ],
  '火': [
    '화(火)의 기운이 재물운에 작용하고 있어서, 당신의 재물은 불꽃처럼 역동적이에요. 들어올 때 확 들어오고, 나갈 때도 확 나가는 스타일이랍니다. 당신의 매력과 인기가 직접적으로 돈으로 연결되는 경우가 많아요.',
    '명예나 인기를 통한 수입이 유리해요. 연예, 마케팅, 광고, 요식업 등 사람들의 주목을 받는 분야에서 재물 운이 좋고, 당신의 카리스마가 돈을 끌어당기는 힘이 있답니다.',
    '재물을 다룰 때는 열정과 냉정함의 균형이 중요해요. "이거 대박이야!"라는 충동적인 투자는 피하고, 확실한 정보를 바탕으로 결정하세요. 빛나는 기회를 잡되, 타이밍을 놓치지 않는 것이 핵심이랍니다.'
  ],
  '土': [
    '토(土)의 기운이 재물운에 작용하고 있어서, 당신의 재물은 대지처럼 안정적이고 든든해요. 급격한 변동 없이 꾸준히 쌓여가는 스타일이며, 특히 실물 자산에서 좋은 결과를 얻을 수 있답니다.',
    '부동산, 건설, 농업, 식품 관련 분야에서 재물 운이 좋아요. 땅과 관련된 투자가 길하며, 안정적인 임대 수입도 기대할 수 있답니다.',
    '재물을 다룰 때는 "안전하고 확실한 것"을 우선시하세요. 투기보다는 저축과 안정적인 투자가 유리하고, 천천히 그러나 확실하게 부를 쌓아가는 것이 당신에게 가장 잘 맞는 방식이에요.'
  ],
  '金': [
    '금(金)의 기운이 재물운에 작용하고 있어서, 당신은 재물을 다루는 데 날카로운 감각을 가지고 있어요. 정확한 분석과 결단력으로 투자에서 좋은 성과를 거둘 수 있는 타입이랍니다.',
    '금융, 귀금속, 기계, 의료, 법률 관련 분야에서 재물 운이 좋아요. 전문성을 살린 수입이 유리하며, 정밀한 재테크 전략이 효과를 발휘한답니다.',
    '재물을 다룰 때는 원칙을 지키되 유연성도 필요해요. 너무 날카롭게만 접근하면 좋은 기회를 놓칠 수 있으니, 때로는 과감한 결단도 필요하답니다. 수익 실현의 타이밍을 놓치지 마세요!'
  ],
  '水': [
    '수(水)의 기운이 재물운에 작용하고 있어서, 당신의 재물은 물처럼 유동적이에요. 다양한 경로로 돈이 들어오고 나가며, 특히 정보와 지식을 활용한 수입이 유리한 타입이랍니다.',
    '무역, 유통, IT, 컨설팅, 해외 사업 관련 분야에서 재물 운이 좋아요. 정보의 흐름을 읽는 능력이 재물로 연결되며, 인맥과 네트워킹이 중요한 자산이 된답니다.',
    '재물을 다룰 때는 흐름을 읽는 것이 핵심이에요. 고여 있는 물은 썩듯이, 재물도 적절히 순환시켜야 해요. 한 곳에 몰아넣기보다 다각화된 포트폴리오가 안정성을 높여줄 거예요.'
  ]
};

// 직업운 템플릿 — 친근한 톤앤매너
const CAREER_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '목(木)의 기운이 직업운에 작용하고 있어서, 당신은 성장과 발전이 있는 분야에서 빛을 발해요. 교육, 연구, 문화 예술, 환경 관련 직종이 천직이 될 수 있으며, 창의성을 마음껏 발휘할 수 있는 환경에서 최고의 성과를 낸답니다.',
    '조직 내에서는 새로운 프로젝트를 이끌거나 혁신을 주도하는 역할이 딱 어울려요. 정체된 환경보다는 변화와 도전이 있는 곳에서 능력을 발휘하며, 후배들을 키우는 데도 재능이 있답니다.',
    '성공을 위해서는 끊임없는 자기 계발이 중요해요. 나무가 뿌리를 깊이 내리듯, 전문성을 깊이 있게 쌓아가세요. 다양한 사람들과의 네트워킹도 커리어에 큰 도움이 될 거예요.'
  ],
  '火': [
    '화(火)의 기운이 직업운에 작용하고 있어서, 당신은 주목받고 빛나는 분야에서 성공해요. 연예, 마케팅, 광고, 요식업, 조명 관련 직종이 천직이 될 수 있으며, 대중과 소통하는 일에서 탁월한 능력을 보인답니다.',
    '조직 내에서는 리더십을 발휘하는 위치가 딱 어울려요. 팀을 이끌고 동기를 부여하는 데 재능이 있으며, 위기 상황에서도 침착하게 방향을 제시하는 능력이 있답니다. 프레젠테이션이나 협상에서 특히 강점을 보여요.',
    '성공을 위해서는 열정을 오래 유지하는 것이 핵심이에요. 번아웃을 조심하고, 적절한 휴식을 통해 에너지를 재충전하세요. 인맥 관리도 성공의 중요한 열쇠랍니다.'
  ],
  '土': [
    '토(土)의 기운이 직업운에 작용하고 있어서, 당신은 안정적이고 신뢰가 중요한 분야에서 성공해요. 부동산, 건설, 농업, 식품, 금융(안정적 투자) 관련 직종이 천직이 될 수 있으며, 꾸준함과 성실함이 빛을 발한답니다.',
    '조직 내에서는 중재자나 조정자 역할이 딱 어울려요. 갈등을 해결하고 조화를 이끌어내는 능력이 있으며, 팀의 안정을 유지하는 핵심 역할을 한답니다. 관리직이나 인사 분야에서도 좋은 성과를 낼 수 있어요.',
    '성공을 위해서는 신뢰를 쌓는 것이 가장 중요해요. 약속을 지키고 일관성 있는 모습을 보여주세요. 급하게 서두르지 말고, 천천히 그러나 확실하게 커리어를 쌓아가면 큰 성공을 거둘 수 있답니다.'
  ],
  '金': [
    '금(金)의 기운이 직업운에 작용하고 있어서, 당신은 정밀함과 전문성이 요구되는 분야에서 성공해요. 금융, 법률, 의료, 기계, IT 관련 직종이 천직이 될 수 있으며, 분석력과 결단력이 빛을 발한답니다.',
    '조직 내에서는 전문가나 의사결정자 역할이 딱 어울려요. 복잡한 문제를 명쾌하게 해결하는 능력이 있으며, 위기 상황에서 냉정하게 판단하는 모습이 인상적이랍니다. 감사, 컨설팅, 품질 관리 분야에서도 두각을 나타내요.',
    '성공을 위해서는 전문성을 끊임없이 갈고닦는 것이 핵심이에요. 날카로운 검처럼 실력을 연마하되, 대인 관계에서는 부드러움을 잃지 마세요. 원칙을 지키면서도 유연성을 갖추면 더 큰 성공이 찾아올 거예요.'
  ],
  '水': [
    '수(水)의 기운이 직업운에 작용하고 있어서, 당신은 지식과 정보를 다루는 분야에서 성공해요. 연구, 교육, IT, 무역, 컨설팅 관련 직종이 천직이 될 수 있으며, 통찰력과 적응력이 빛을 발한답니다.',
    '조직 내에서는 전략가나 분석가 역할이 딱 어울려요. 트렌드를 읽고 미래를 예측하는 능력이 있으며, 복잡한 정보를 정리해서 핵심 인사이트를 도출하는 데 탁월하답니다. 기획, 마케팅 전략, 데이터 분석 분야에서 두각을 나타내요.',
    '성공을 위해서는 지속적인 학습과 네트워킹이 중요해요. 물이 흐르듯 새로운 지식을 받아들이고, 다양한 사람들과 교류하세요. 해외 진출이나 글로벌 비즈니스에서도 좋은 기회가 있을 거예요.'
  ]
};

// 2026년 운세 템플릿 — 친근한 톤앤매너
const YEARLY_2026_TEMPLATES: Record<FiveElement, string[]> = {
  '木': [
    '2026년 병오년(丙午年)은 붉은 말의 해로, 화(火)의 기운이 강하게 흐르는 해예요. 목(木)인 당신에게 이 해는 "목생화(木生火)", 즉 나무가 불을 키워주는 원리가 작용해서, 당신의 기운이 세상에 빛을 발하는 시기랍니다!',
    '올해는 그동안 준비해온 것들이 드디어 결실을 맺는 해예요. 당신의 아이디어와 노력이 인정받고, 새로운 기회가 찾아올 거예요. 특히 상반기에 중요한 전환점이 있을 수 있으니, 미리미리 준비해두세요.',
    '다만 화(火)의 기운이 강해서 에너지 소모가 클 수 있어요. 열정을 쏟되 번아웃은 조심하고, 건강 관리에 꼭 신경 써주세요. 충분한 휴식이 올해의 핵심 과제랍니다.'
  ],
  '火': [
    '2026년 병오년은 당신과 같은 화(火)의 기운이 넘치는 해예요! "비겁(比劫)"의 해로, 나와 같은 기운이 강해지는 시기랍니다. 경쟁이 치열해지지만, 동시에 같은 뜻을 가진 동료와의 협력에서 큰 시너지를 낼 수 있어요.',
    '올해는 당신의 존재감이 더욱 빛나는 해예요. 리더십을 발휘할 기회가 많아지고, 대중적 인기나 명예가 상승해요. 하지만 너무 앞서 나가려 하면 마찰이 생길 수 있으니, 조화를 중시하는 것이 중요하답니다.',
    '건강 면에서는 "과열"에 주의해야 해요. 심장과 혈압 관리에 신경 쓰고, 스트레스를 적절히 해소해주세요. 수영이나 명상처럼 마음을 식혀주는 취미 활동이 큰 도움이 될 거예요.'
  ],
  '土': [
    '2026년 병오년은 "화생토(火生土)"의 원리로, 토(土)인 당신에게 기운을 북돋아주는 아주 좋은 해예요! 외부로부터 지원과 도움이 들어오며, 안정적인 성장이 기대되는 시기랍니다.',
    '올해는 기반을 다지고 확장하기 딱 좋은 해예요. 부동산이나 실물 자산에서 좋은 기회가 있을 수 있고, 인간관계에서도 든든한 지원군을 얻게 될 거예요.',
    '다만 화(火)의 기운이 강해서 조급해질 수 있어요. 당신의 가장 큰 장점인 신중함을 유지하면서, "천천히, 하지만 확실하게" 나아가면 좋은 결과를 얻을 수 있답니다.'
  ],
  '金': [
    '2026년 병오년은 "화극금(火克金)"의 원리로, 금(金)인 당신에게 도전적인 해가 될 수 있어요. 외부의 압박이나 경쟁이 심해질 수 있지만, 걱정하지 마세요! 쇠가 불에 단련되면 더 강한 강철이 되듯이, 올해의 시련은 당신을 더욱 단단하게 만들어줄 거예요.',
    '올해는 인내와 지혜가 필요한 해예요. 정면 돌파보다는 우회 전략이 효과적이며, 불필요한 충돌은 피하는 것이 좋아요. 내실을 다지고 실력을 쌓는 데 집중하세요.',
    '건강 면에서는 호흡기와 피부에 주의하고, 스트레스 관리가 중요해요. 명상이나 호흡 운동이 도움이 되며, 어려운 시기일수록 냉정함을 유지하면 반드시 좋은 결과가 찾아올 거예요.'
  ],
  '水': [
    '2026년 병오년은 "수극화(水克火)"의 원리로, 수(水)인 당신이 화(火)의 기운을 제어하는 위치에 있는 해예요. 당신의 지혜와 통찰력이 빛을 발하며, 중요한 역할을 맡게 될 거예요!',
    '올해는 당신의 판단력이 특히 중요해지는 해예요. 주변에서 조언을 구하는 사람이 많아지고, 당신의 의견이 큰 영향력을 갖게 돼요. 책임감을 가지고 신중하게 행동하면 좋은 결과가 따라올 거예요.',
    '다만 화(火)의 기운과 대립하면서 에너지 소모가 클 수 있어요. 충분한 휴식과 재충전이 필요하며, 무리한 일정은 피해주세요. 물이 불을 끄듯, 당신의 차분함이 주변을 안정시키는 힘이 된답니다.'
  ]
};

// 운세 생성 함수
export interface FortuneResult {
  title: string;
  content: string;
}

function getRandomElement<T>(arr: T[]): T {
  return arr[Math.floor(Math.random() * arr.length)];
}

function getDayMasterElement(saju: SajuResult): FiveElement {
  return STEM_ELEMENTS[saju.dayPillar.stem];
}

export function generatePersonalityFortune(saju: SajuResult): FortuneResult {
  const dayMaster = saju.dayPillar.stem;
  const template = DAY_MASTER_TEMPLATES[dayMaster];
  
  const content = `${template.personality}\n\n` +
    `**강점**: ${template.strength}\n\n` +
    `**주의점**: ${template.weakness}\n\n` +
    `**조언**: ${template.advice}`;
  
  return {
    title: `${template.name} 일간의 성격과 운명`,
    content
  };
}

export function generateEarlyLifeFortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = EARLY_LIFE_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '초년운 (1세~27세)',
    content
  };
}

export function generateMidLifeFortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = MID_LIFE_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '중년운 (28세~57세)',
    content
  };
}

export function generateLateLifeFortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = LATE_LIFE_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '말년운 (58세 이후)',
    content
  };
}

export function generateWealthFortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = WEALTH_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '평생 재물운',
    content
  };
}

export function generateCareerFortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = CAREER_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '직업운과 사회적 성취',
    content
  };
}

export function generateYearly2026Fortune(saju: SajuResult): FortuneResult {
  const element = getDayMasterElement(saju);
  const templates = YEARLY_2026_TEMPLATES[element];
  const content = templates.join('\n\n');
  
  return {
    title: '2026년 병오년 총운',
    content
  };
}

// 전체 평생사주 운세 생성
export function generateLifelongFortune(saju: SajuResult): {
  personality: FortuneResult;
  earlyLife: FortuneResult;
  midLife: FortuneResult;
  lateLife: FortuneResult;
  wealth: FortuneResult;
  career: FortuneResult;
} {
  return {
    personality: generatePersonalityFortune(saju),
    earlyLife: generateEarlyLifeFortune(saju),
    midLife: generateMidLifeFortune(saju),
    lateLife: generateLateLifeFortune(saju),
    wealth: generateWealthFortune(saju),
    career: generateCareerFortune(saju)
  };
}

// 신년 운세 생성
export function generateYearlyFortune(saju: SajuResult): {
  general: FortuneResult;
  wealth: FortuneResult;
  career: FortuneResult;
} {
  return {
    general: generateYearly2026Fortune(saju),
    wealth: generateWealthFortune(saju),
    career: generateCareerFortune(saju)
  };
}
